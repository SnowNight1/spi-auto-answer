# SPIè‡ªåŠ¨ç­”é¢˜å·¥å…· - é¡¹ç›®æ–‡ä»¶æ¸…å•

## ğŸ“ é¡¹ç›®ç»“æ„

```
spi-auto-answer/
â”œâ”€â”€ ğŸ”§ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.json                 # ä¸»é…ç½®æ–‡ä»¶ (éœ€è¦ç”¨æˆ·é…ç½®)
â”‚   â”œâ”€â”€ config.json.template        # é…ç½®æ–‡ä»¶æ¨¡æ¿
â”‚   â””â”€â”€ CONFIG_GUIDE.md            # è¯¦ç»†é…ç½®è¯´æ˜æ–‡æ¡£
â”‚
â”œâ”€â”€ ğŸ Pythonæ¨¡å—
â”‚   â”œâ”€â”€ main.py                     # ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ utils.py                    # å·¥å…·å‡½æ•°æ¨¡å—
â”‚   â”œâ”€â”€ ocr_handler.py             # OCRå¤„ç†æ¨¡å—
â”‚   â”œâ”€â”€ excel_handler.py           # Excelé¢˜åº“å¤„ç†æ¨¡å—
â”‚   â”œâ”€â”€ api_handler.py             # APIè°ƒç”¨æ¨¡å—
â”‚   â”œâ”€â”€ gui_handler.py             # GUIæ‚¬æµ®çª—å£æ¨¡å—
â”‚   â””â”€â”€ hotkey_listener.py         # çƒ­é”®ç›‘å¬æ¨¡å—
â”‚
â”œâ”€â”€ ğŸ³ Dockeréƒ¨ç½²
â”‚   â”œâ”€â”€ Dockerfile                  # Dockeré•œåƒæ„å»ºæ–‡ä»¶
â”‚   â”œâ”€â”€ docker-compose.yml         # DockeræœåŠ¡ç¼–æ’
â”‚   â””â”€â”€ docker-entrypoint.sh       # å®¹å™¨å¯åŠ¨è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“Š æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ questions.xlsx              # Excelé¢˜åº“æ–‡ä»¶ (è‡ªåŠ¨ç”Ÿæˆç¤ºä¾‹)
â”‚   â””â”€â”€ requirements.txt           # Pythonä¾èµ–åˆ—è¡¨
â”‚
â”œâ”€â”€ ğŸ”§ ç®¡ç†è„šæœ¬
â”‚   â”œâ”€â”€ deploy.sh                   # ä¸€é”®éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ setup_config.sh            # äº¤äº’å¼é…ç½®å‘å¯¼
â”‚   â””â”€â”€ check_config.sh            # é…ç½®æ–‡ä»¶æ£€æŸ¥å™¨
â”‚
â”œâ”€â”€ ğŸ“ è¿è¡Œæ—¶ç›®å½•
â”‚   â”œâ”€â”€ logs/                       # æ—¥å¿—æ–‡ä»¶ç›®å½•
â”‚   â””â”€â”€ debug_images/              # è°ƒè¯•å›¾ç‰‡ç›®å½• (debugæ¨¡å¼)
â”‚
â””â”€â”€ ğŸ“– æ–‡æ¡£
    â”œâ”€â”€ README.md                   # é¡¹ç›®è¯´æ˜æ–‡æ¡£
    â”œâ”€â”€ CONFIG_GUIDE.md            # é…ç½®è¯¦ç»†è¯´æ˜
    â””â”€â”€ FILE_LIST.md               # æœ¬æ–‡ä»¶æ¸…å•
```

## ğŸš€ å¿«é€Ÿå¼€å§‹æµç¨‹

### 1. è·å–é¡¹ç›®æ–‡ä»¶
```bash
# ç¡®ä¿æ‰€æœ‰æ–‡ä»¶éƒ½åœ¨é¡¹ç›®ç›®å½•ä¸­
ls -la spi-auto-answer/
```

### 2. é…ç½®ç³»ç»Ÿ
```bash
# æ–¹æ³•ä¸€: ä½¿ç”¨é…ç½®å‘å¯¼ (æ¨è)
./setup_config.sh

# æ–¹æ³•äºŒ: æ‰‹åŠ¨é…ç½®
cp config.json.template config.json
nano config.json
```

### 3. æ£€æŸ¥é…ç½®
```bash
# éªŒè¯é…ç½®æ­£ç¡®æ€§
./check_config.sh
```

### 4. éƒ¨ç½²è¿è¡Œ
```bash
# ä¸€é”®éƒ¨ç½²
./deploy.sh
```

## ğŸ“‹ æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

### é…ç½®ç›¸å…³æ–‡ä»¶

| æ–‡ä»¶ | ç”¨é€” | æ˜¯å¦å¿…éœ€ | è¯´æ˜ |
|------|------|----------|------|
| `config.json` | ä¸»é…ç½®æ–‡ä»¶ | âœ… å¿…éœ€ | åŒ…å«APIå¯†é’¥ç­‰å…³é”®é…ç½® |
| `config.json.template` | é…ç½®æ¨¡æ¿ | ğŸ“– å‚è€ƒ | ç”¨äºåˆ›å»ºé…ç½®æ–‡ä»¶çš„æ¨¡æ¿ |
| `CONFIG_GUIDE.md` | é…ç½®è¯´æ˜ | ğŸ“– å‚è€ƒ | è¯¦ç»†çš„é…ç½®å‚æ•°è¯´æ˜ |

### è„šæœ¬å·¥å…·

| æ–‡ä»¶ | ç”¨é€” | æƒé™ | è¯´æ˜ |
|------|------|------|------|
| `setup_config.sh` | é…ç½®å‘å¯¼ | `+x` | äº¤äº’å¼åˆ›å»ºé…ç½®æ–‡ä»¶ |
| `check_config.sh` | é…ç½®æ£€æŸ¥ | `+x` | éªŒè¯é…ç½®æ–‡ä»¶æ­£ç¡®æ€§ |
| `deploy.sh` | éƒ¨ç½²è„šæœ¬ | `+x` | ä¸€é”®éƒ¨ç½²æ•´ä¸ªç³»ç»Ÿ |

### æ ¸å¿ƒæ¨¡å—

| æ–‡ä»¶ | åŠŸèƒ½ | ä¾èµ– |
|------|------|------|
| `main.py` | ä¸»ç¨‹åº | æ‰€æœ‰æ¨¡å— |
| `utils.py` | å·¥å…·å‡½æ•° | PIL, OpenCV, logging |
| `ocr_handler.py` | OCRè¯†åˆ« | tesseract, pyautogui |
| `excel_handler.py` | é¢˜åº“æŸ¥è¯¢ | pandas, openpyxl, fuzzywuzzy |
| `api_handler.py` | APIè°ƒç”¨ | requests |
| `gui_handler.py` | æ‚¬æµ®çª—å£ | tkinter |
| `hotkey_listener.py` | çƒ­é”®ç›‘å¬ | keyboard |

## ğŸ”§ é…ç½®æ–‡ä»¶é‡ç‚¹

### å¿…é¡»é…ç½®é¡¹
- `api.api_key` - Azure OpenAI APIå¯†é’¥
- `api.api_endpoint` - APIç«¯ç‚¹URL
- `api.deployment_name` - æ¨¡å‹éƒ¨ç½²åç§°

### å¯é€‰é…ç½®é¡¹
- `hotkey.trigger_key` - è§¦å‘çƒ­é”® (é»˜è®¤: F12)
- `ocr.language` - OCRè¯­è¨€ (é»˜è®¤: jpn)
- `excel.file_path` - é¢˜åº“æ–‡ä»¶è·¯å¾„
- `gui.window.alpha` - çª—å£é€æ˜åº¦

## ğŸ“Š Excelé¢˜åº“æ ¼å¼

### æ ‡å‡†æ ¼å¼ç¤ºä¾‹
```
| A (é¢˜ç›®) | B (é€‰é¡¹1) | C (é€‰é¡¹2) | D (é€‰é¡¹3) | E (ç­”æ¡ˆ) |
|----------|-----------|-----------|-----------|---------|
| 1+1=?    | 1         | 2         | 3         | B       |
```

### è‡ªå®šä¹‰æ ¼å¼ç¤ºä¾‹
```
| é¢˜ç›® | é€‰é¡¹A | é€‰é¡¹B | é€‰é¡¹C | æ­£ç¡®ç­”æ¡ˆ |
|------|-------|-------|-------|----------|
| è®¡ç®—é¢˜ | é€‰æ‹©1 | é€‰æ‹©2 | é€‰æ‹©3 | é€‰é¡¹B    |
```

## ğŸ³ Dockerç›¸å…³

### å®¹å™¨æ“ä½œå‘½ä»¤
```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# é‡å¯æœåŠ¡
docker-compose restart

# åœæ­¢æœåŠ¡
docker-compose down

# è¿›å…¥å®¹å™¨
docker-compose exec spi-auto-answer bash
```

### æ•°æ®æŒä¹…åŒ–
- `./config.json` â†’ `/app/config.json`
- `./questions.xlsx` â†’ `/app/questions.xlsx`
- `./logs/` â†’ `/app/logs/`

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜æ–‡ä»¶
1. **é…ç½®é—®é¢˜** â†’ æŸ¥çœ‹ `CONFIG_GUIDE.md`
2. **éƒ¨ç½²é—®é¢˜** â†’ æŸ¥çœ‹ `deploy.sh` è¾“å‡º
3. **è¿è¡Œé—®é¢˜** â†’ æŸ¥çœ‹ `logs/spi_auto_answer.log`

### é…ç½®éªŒè¯å·¥å…·
```bash
# æ£€æŸ¥é…ç½®å®Œæ•´æ€§
./check_config.sh

# é‡æ–°é…ç½®
./setup_config.sh

# æ£€æŸ¥JSONæ ¼å¼
python3 -m json.tool config.json
```

## ğŸ“ æ–‡ä»¶æƒé™

ç¡®ä¿ä»¥ä¸‹æ–‡ä»¶æœ‰æ‰§è¡Œæƒé™ï¼š
```bash
chmod +x deploy.sh
chmod +x setup_config.sh
chmod +x check_config.sh
chmod +x docker-entrypoint.sh
```

## ğŸ”„ æ›´æ–°æµç¨‹

1. å¤‡ä»½å½“å‰é…ç½®: `cp config.json config.json.backup`
2. æ›´æ–°é¡¹ç›®æ–‡ä»¶
3. æ£€æŸ¥é…ç½®å…¼å®¹æ€§: `./check_config.sh`
4. é‡æ–°éƒ¨ç½²: `./deploy.sh`

## ğŸ’¡ æœ€ä½³å®è·µ

1. **é¦–æ¬¡ä½¿ç”¨**: è¿è¡Œ `./setup_config.sh` åˆ›å»ºé…ç½®
2. **é…ç½®ä¿®æ”¹**: ä½¿ç”¨ `./check_config.sh` éªŒè¯
3. **å®šæœŸå¤‡ä»½**: å¤‡ä»½ `config.json` å’Œ `questions.xlsx`
4. **æ—¥å¿—ç›‘æ§**: å®šæœŸæŸ¥çœ‹ `logs/` ç›®å½•
5. **æ€§èƒ½ä¼˜åŒ–**: å‚è€ƒ `CONFIG_GUIDE.md` ä¼˜åŒ–å»ºè®®

---

ğŸ“– **éœ€è¦å¸®åŠ©ï¼Ÿ**
- è¯¦ç»†é…ç½®: [CONFIG_GUIDE.md](CONFIG_GUIDE.md)
- é¡¹ç›®è¯´æ˜: [README.md](README.md)
- åœ¨çº¿æ”¯æŒ: æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶æ’æŸ¥é—®é¢˜
